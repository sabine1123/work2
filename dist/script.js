"use strict";function setMarquee(hasMarquee,color){if(hasMarquee)marquee.init(".marquee_content",".marquee_content span",.5,"还记得去年金曲奖的台上， #彭佳慧 一接到奖座瞬间类崩，大喊：「这座金曲奖，我等了20年」，真谓 #二十年磨一剑。其中某一段7年被唱片公司打枪，没有一家公司愿意为她发片，在Pub坚持她的歌手之路！这座奖真的来得太晚了，却给了依然在音乐之路努力的歌手们，一个正面的教材。歌后说：「我相信所有有梦想的朋友，都可以像彭佳慧一样20年努力坚持，我会再唱另外一个20年」"),marquee.play(),$(".marquee_container").css("background-color","#f9f9f9"),color&&($(".marquee_container").css("background-color",color),console.log("set marquee_color : "+color));else{var mt=parseInt($(".main").css("margin-top"));$(".main").css("margin-top",mt-35+"px"),color&&$(window).outerWidth()<768&&($("header").css("background-color",color),console.log("set header_color : "+color))}}function handler(e){e.preventDefault()}function accordion($this,closeBtn){var $this_content=$this.siblings(".content_section"),top=$(window).outerWidth()>768?$(window).outerWidth()>1024?167:147:115;closeBtn?$("body").animate({scrollTop:$this.offset().top-top},500,function(){$this.toggleClass("open"),$this_content.slideToggle()}):$this.parent().siblings(".no_tap_highlight").find(".main_section").hasClass("open")?(console.log("hasOpen"),$this.parent().siblings(".no_tap_highlight").find(".content_section").slideUp(500),$this.parent().siblings(".no_tap_highlight").find(".main_section").removeClass("open"),setTimeout(function(){$("body").animate({scrollTop:$this.offset().top-top},500,function(){$this.toggleClass("open"),$this_content.slideToggle(800)})},500)):(console.log("NoHasOpen"),$("body").animate({scrollTop:$this.offset().top-top},500,function(){$this.toggleClass("open"),$this_content.slideToggle(800)}))}function setPopup(popuptype,popupobj){$(".btn-pop").off("click"),$(".login-section").removeClass("open"),$(".popup-section").addClass("open"),popuptype?($(".popup-title").html(popupobj.title),$(".popup-text").html(popupobj.content),$(".btn-pop").append(popupobj.btnText)):($(".popup-title").html(popupobj.title),$(".popup-text").html(popupobj.content),$(".btn-pop").html(popupobj.btnText),$(".btn-pop").on("click",function(){$(".popup-section").removeClass("open"),$(".login-section").addClass("open")}))}function _toLocalDateTime(sDate){try{var date=new Date(sDate+"Z");return date.valueOf()>0?date.toLocaleString():"-"}catch(e){return"-"}}var el_header='<div class="bg"></div>\n                  <div class="user_bar">\n                    <div class="profile">\n                      <span class="user_icon"></span>\n                      <span class="user_name">USER</span>\n                    </div>\n                    <div class="has_login">\n                      <div class="btn btn-fill left">\n                        <a href="member.html">会员中心</a>\n                      </div>    \n                      <div class="btn btn-fill right">\n                        <a href="#">登出</a>\n                      </div>\n                    </div>\n                  </div>\n                  <button>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                  </button>',el_nav='<ul>\n                  <li><a href="index.html">首页</a></li>\n                  <li><a href="slot.html">老虎机</a></li>\n                  <li><a href="livegame.html">真人娱乐</a></li>\n                  <li><a href="fishing.html">捕鱼王</a></li>\n                  <li><a href="promotions.html">优惠活动</a></li>\n                  <li><a href="about.html">关于我们</a></li>\n                  <li class="phone_only"><a id="login" href="#">登入</a></li>\n                  <li class="phone_only"><a href="regist.html">注册</a></li>\n              </ul>',el_footer='<div class="footer_container">\n                  <div class="footer_top clearfix">\n                    <div class="partner">\n                      <p class="title">合作伙伴</p>\n                      <div class="img">\n                        <div class="img_partner"></div>\n                      </div>\n                    </div>\n                    <div class="certification">\n                      <p class="title">监管机构</p>\n                      <div class="img">\n                        <div class="img_certification"></div>\n                      </div>\n                    </div>\n                    <div class="browser">\n                      <p class="title">推荐浏览器</p>\n                      <div class="img">\n                        <div class="img_browser"></div>\n                      </div>\n                    </div> \n                  </div>    \n                  <div class="footer_bottom clearfix">\n                    <ul>\n                      <li><a href="#">关于我们</a></li>\n                      <li><a href="#">博彩责任</a></li>\n                      <li><a href="#">规定条款</a></li>\n                      <li><a href="#">责任条款</a></li>\n                      <li><a href="#">隐私政策</a></li>\n                      <li><a href="#">常见问题</a></li>\n                      <li><a href="#">联系我们</a></li>\n                    </ul>    \n                  </div> \n                </div>',el_marquee='<div class="marquee_container">\n                    <i class="fa fa-volume-up"></i>\n                    <div class="marquee_content">\n                      <span></span>  \n                    </div>\n                  </div>',el_loginBox='<div class="login-section">\n                      <div class="login-wrapper"></div>\n                      <div class="login-box">\n                        <span class="login-close"></span>\n                        <h3 class="login-title">126游戏网登录</h3>\n                        <div class="login-content">\n                          <form action="" class="login-form">\n                            <div class="text-field">\n                              <label for="account">请输入用户名</label>\n                              <input type="text" class="account" name="account" id="account"/>\n                              <span class="input-reset"></span>\n                            </div>\n                            <div class="text-field">\n                              <label for="password">请输入密码</label>\n                              <input type="text" class="password" name="password" id="password"/>\n                              <span class="input-reset"></span>\n                            </div>\n                            <div class="forgot clearfix"><a href="forgetpw.html">忘记密码?</a></div>\n                            <div class="errors"></div>\n                            <div class="btn btn-fill btn-submit">登入</div>  \n                          </form>\n                        </div>\n                      </div>\n                    </div>',el_popup='<div class="popup-section">\n                  <div class="popup-wrapper"></div>\n                  <div class="popup-box">\n                    <div class="popup-content">\n                      <div class="popup-title">登录失败</div>\n                      <div class="popup-text">\n                      </div>\n                      <div class="btn btn-fill btn-pop"></div>  \n                    </div>\n                  </div>\n                </div>',marquee={container:null,containerOffset:null,containerWidth:null,content:null,contentWidth:null,speed:null,n:0,timer:null,status:0,init:function(containerID,contentID,speed,content){var that=this;if(arguments.length<1)throw"missing arguments";if($(containerID).length<0)throw"container selector is wrong";if($(contentID).length<0)throw"content selector is wrong";if(content.length<0)throw"content is empty";return this.container=$(containerID),this.content=$(contentID),this.speed=speed||1,this.content.text(content),this.containerOffset=this.container.offset().left,this.containerWidth=this.container.innerWidth(),this.contentWidth=this.content.outerWidth(),this.content.css("left",this.containerWidth+"px"),this.container.on("mouseenter",function(){that.stop()}),this.container.on("mouseleave",function(){that.status||that.play()}),this.container.on("click",function(){that.status?that.stop():that.play()}),this},play:function(){var that=this;that.status=1,that.timer=setInterval(function(){var contentOffset=that.content.offset().left,containerOffset=that.containerOffset=that.container.offset().left;that.containerWidth=that.container.innerWidth();that.n-=that.speed,that.content.css("transform","translateX("+that.n+"px)"),that.contentWidth+contentOffset<containerOffset&&(that.content.css("left",that.containerWidth+10+"px"),that.content.css("transform",""),that.n=0)},10)},stop:function(){this.status=0,clearInterval(this.timer)}},slider={default:{current:0,autoplay:!1,interval:3500,l_rOffset:250},init:function(options){if(this.options=$.extend(!0,{},this.default,options),this.support3d=Modernizr.csstransforms3d,this.support2d=Modernizr.csstransforms,this.supportTrans=Modernizr.csstransitions,this.$wrapper=$(".banner_gallery"),this.$items=this.$wrapper.children(".items"),this.itemsCount=this.$items.length,this.$prev=$(".prev"),this.$next=$(".next"),this.itemsCount<3)return this.$prev.hide(),this.$next.hide(),!1;this.current=this.options.current,this.isAnim=!1,this.$items.css({opacity:0,visibility:"hidden"}),this.validate(),this.layout(),this.loadEvents(),this.options.autoplay&&this.startSlideshow()},validate:function(){(this.options.current<0||this.options.current>this.itemsCount-1)&&(this.current=0)},layout:function(){this.setItems();var leftCSS,rightCSS,currentCSS,l_rOffset=this.options.l_rOffset;console.log(l_rOffset),this.support3d&&this.supportTrans?(rightCSS={"-webkit-transform":"translateX("+l_rOffset+"px) translateZ(-200px) rotateY(-45deg)","-moz-transform":"translateX("+l_rOffset+"px) translateZ(-200px) rotateY(-45deg)","-o-transform":"translateX("+l_rOffset+"px) translateZ(-200px) rotateY(-45deg)","-ms-transform":"translateX("+l_rOffset+"px) translateZ(-200px) rotateY(-45deg)",transform:"translateX("+l_rOffset+"px) translateZ(-200px) rotateY(-45deg)"},(leftCSS={"-webkit-transform":"translateX(-"+l_rOffset+"px) translateZ(-200px) rotateY(45deg)","-moz-transform":"translateX(-"+l_rOffset+"px) translateZ(-200px) rotateY(45deg)","-o-transform":"translateX(-"+l_rOffset+"px) translateZ(-200px) rotateY(45deg)","-ms-transform":"translateX(-"+l_rOffset+"px) translateZ(-200px) rotateY(45deg)",transform:"translateX(-"+l_rOffset+"px) translateZ(-200px) rotateY(45deg)"}).opacity=1,leftCSS.visibility="visible",rightCSS.opacity=1,rightCSS.visibility="visible"):this.support2d&&this.supportTrans&&(rightCSS={"-webkit-transform":"translate("+l_rOffset+"px) scale(0.8)","-moz-transform":"translate("+l_rOffset+"px) scale(0.8)","-o-transform":"translate("+l_rOffset+"px) scale(0.8)","-ms-transform":"translate("+l_rOffset+"px) scale(0.8)",transform:"translate("+l_rOffset+"px) scale(0.8)"},currentCSS={"z-index":999},(leftCSS={"-webkit-transform":"translate(-"+l_rOffset+"px) scale(0.8)","-moz-transform":"translate(-"+l_rOffset+"px) scale(0.8)","-o-transform":"translate(-"+l_rOffset+"px) scale(0.8)","-ms-transform":"translate(-"+l_rOffset+"px) scale(0.8)",transform:"translate(-"+l_rOffset+"px) scale(0.8)"}).opacity=1,leftCSS.visibility="visible",rightCSS.opacity=1,rightCSS.visibility="visible"),this.$leftItm.css(leftCSS||{}),this.$rightItm.css(rightCSS||{}),this.$currentItm.css(currentCSS||{}).css({opacity:1,visibility:"visible"}).addClass("dg-center")},setItems:function(){this.$items.removeClass("dg-center"),this.$currentItm=this.$items.eq(this.current),this.$leftItm=0===this.current?this.$items.eq(this.itemsCount-1):this.$items.eq(this.current-1),this.$rightItm=this.current===this.itemsCount-1?this.$items.eq(0):this.$items.eq(this.current+1),!this.support3d&&this.support2d&&this.supportTrans&&(this.$items.css("z-index",1),this.$currentItm.css("z-index",999)),this.itemsCount>3&&(this.$nextItm=this.$rightItm.index()===this.itemsCount-1?this.$items.eq(0):this.$rightItm.next(),this.$nextItm.css(this.getCoordinates("outright")),this.$prevItm=0===this.$leftItm.index()?this.$items.eq(this.itemsCount-1):this.$leftItm.prev(),this.$prevItm.css(this.getCoordinates("outleft")))},loadEvents:function(){var _self=this;this.$prev.on("click",function(){return _self.options.autoplay&&(clearTimeout(_self.slideshow),_self.options.autoplay=!1),_self.navigate("prev"),!1}),this.$next.on("click",function(){return _self.options.autoplay&&(clearTimeout(_self.slideshow),_self.options.autoplay=!1),_self.navigate("next"),!1}),this.$items.on("webkitTransitionEnd transitionend OTransitionEnd",function(){_self.isAnim=!1})},getCoordinates:function(position){var l_rOffset=this.options.l_rOffset;if(this.support3d&&this.supportTrans)switch(position){case"outleft":return{"-webkit-transform":"translateX(-350px) translateZ(-300px) rotateY(45deg)","-moz-transform":"translateX(-350px) translateZ(-300px) rotateY(45deg)","-o-transform":"translateX(-350px) translateZ(-300px) rotateY(45deg)","-ms-transform":"translateX(-350px) translateZ(-300px) rotateY(45deg)",transform:"translateX(-350px) translateZ(-300px) rotateY(45deg)",opacity:0,visibility:"hidden"};case"outright":return{"-webkit-transform":"translateX(350px) translateZ(-300px) rotateY(-45deg)","-moz-transform":"translateX(350px) translateZ(-300px) rotateY(-45deg)","-o-transform":"translateX(350px) translateZ(-300px) rotateY(-45deg)","-ms-transform":"translateX(350px) translateZ(-300px) rotateY(-45deg)",transform:"translateX(350px) translateZ(-300px) rotateY(-45deg)",opacity:0,visibility:"hidden"};case"left":return{"-webkit-transform":"translateX(-"+l_rOffset+"px) translateZ(-200px) rotateY(45deg)","-moz-transform":"translateX(-"+l_rOffset+"px) translateZ(-200px) rotateY(45deg)","-o-transform":"translateX(-"+l_rOffset+"px) translateZ(-200px) rotateY(45deg)","-ms-transform":"translateX(-"+l_rOffset+"px) translateZ(-200px) rotateY(45deg)",transform:"translateX(-"+l_rOffset+"px) translateZ(-200px) rotateY(45deg)",opacity:1,visibility:"visible"};case"right":return{"-webkit-transform":"translateX("+l_rOffset+"px) translateZ(-200px) rotateY(-45deg)","-moz-transform":"translateX("+l_rOffset+"px) translateZ(-200px) rotateY(-45deg)","-o-transform":"translateX("+l_rOffset+"px) translateZ(-200px) rotateY(-45deg)","-ms-transform":"translateX("+l_rOffset+"px) translateZ(-200px) rotateY(-45deg)",transform:"translateX("+l_rOffset+"px) translateZ(-200px) rotateY(-45deg)",opacity:1,visibility:"visible"};case"center":return{"-webkit-transform":"translateX(0px) translateZ(0px) rotateY(0deg)","-moz-transform":"translateX(0px) translateZ(0px) rotateY(0deg)","-o-transform":"translateX(0px) translateZ(0px) rotateY(0deg)","-ms-transform":"translateX(0px) translateZ(0px) rotateY(0deg)",transform:"translateX(0px) translateZ(0px) rotateY(0deg)",opacity:1,visibility:"visible"}}else if(this.support2d&&this.supportTrans)switch(position){case"outleft":return{"-webkit-transform":"translate(-350px) scale(0.7)","-moz-transform":"translate(-350px) scale(0.7)","-o-transform":"translate(-350px) scale(0.7)","-ms-transform":"translate(-350px) scale(0.7)",transform:"translate(-350px) scale(0.7)",opacity:0,visibility:"hidden"};case"outright":return{"-webkit-transform":"translate(350px) scale(0.7)","-moz-transform":"translate(350px) scale(0.7)","-o-transform":"translate(350px) scale(0.7)","-ms-transform":"translate(350px) scale(0.7)",transform:"translate(350px) scale(0.7)",opacity:0,visibility:"hidden"};case"left":return{"-webkit-transform":"translate(-"+l_rOffset+"px) scale(0.8)","-moz-transform":"translate(-"+l_rOffset+"px) scale(0.8)","-o-transform":"translate(-"+l_rOffset+"px) scale(0.8)","-ms-transform":"translate(-"+l_rOffset+"px) scale(0.8)",transform:"translate(-"+l_rOffset+"px) scale(0.8)",opacity:1,visibility:"visible"};case"right":return{"-webkit-transform":"translate("+l_rOffset+"px) scale(0.8)","-moz-transform":"translate("+l_rOffset+"px) scale(0.8)","-o-transform":"translate("+l_rOffset+"px) scale(0.8)","-ms-transform":"translate("+l_rOffset+"px) scale(0.8)",transform:"translate("+l_rOffset+"px) scale(0.8)",opacity:1,visibility:"visible"};case"center":return{"-webkit-transform":"translate(0px) scale(1)","-moz-transform":"translate(0px) scale(1)","-o-transform":"translate(0px) scale(1)","-ms-transform":"translate(0px) scale(1)",transform:"translate(0px) scale(1)",opacity:1,visibility:"visible"}}else switch(position){case"outleft":case"outright":case"left":case"right":return{opacity:0,visibility:"hidden"};case"center":return{opacity:1,visibility:"visible"}}},navigate:function(dir){if(this.supportTrans&&this.isAnim)return!1;switch(this.isAnim=!0,dir){case"next":this.current=this.$rightItm.index(),this.$currentItm.addClass("dg-transition").css(this.getCoordinates("left")),this.$rightItm.addClass("dg-transition").css(this.getCoordinates("center")),this.$nextItm?(this.$leftItm.addClass("dg-transition").css(this.getCoordinates("outleft")),this.$nextItm.addClass("dg-transition").css(this.getCoordinates("right"))):this.$leftItm.addClass("dg-transition").css(this.getCoordinates("right"));break;case"prev":this.current=this.$leftItm.index(),this.$currentItm.addClass("dg-transition").css(this.getCoordinates("right")),this.$leftItm.addClass("dg-transition").css(this.getCoordinates("center")),this.$prevItm?(this.$rightItm.addClass("dg-transition").css(this.getCoordinates("outright")),this.$prevItm.addClass("dg-transition").css(this.getCoordinates("left"))):this.$rightItm.addClass("dg-transition").css(this.getCoordinates("left"))}this.setItems(),this.supportTrans||this.$currentItm.addClass("dg-center")},startSlideshow:function(){var _self=this;this.slideshow=setTimeout(function(){_self.navigate("next"),_self.options.autoplay&&_self.startSlideshow()},this.options.interval)},destroy:function(){this.$prev.off("click"),this.$next.off("click"),this.$items.off("webkitTransitionEnd transitionend OTransitionEnd"),this.options.autoplay&&(console.log("clear"),clearTimeout(this.slideshow))}};$(function(){function setClosePos(){var input=$(".input-reset").siblings("input");if(0!=input.length){var pos=input.position();$(".input-reset").css({top:pos.top,left:pos.left+input.outerWidth()-$(".input-reset").width()}),console.log(pos)}}$("header button").on("click",function(){$(this).toggleClass("open"),$("nav").toggleClass("open"),$("nav").hasClass("open")?($(".main,footer").css({transform:"translateX(-130px)","transition-delay":"0.2s"}),$("nav").on("touchmove",handler,!1),$("body").append('<div class="wrapper"></div>'),$(".wrapper").css({width:"100%",height:$("html").outerHeight(),"background-color":"rgba(0,0,0,0.8)","z-index":9,position:"absolute",top:0,bottom:0,left:0,right:0})):($(".main,footer").css({transform:"","transition-delay":"0s"}),$(".wrapper").remove())}),$(".btn-login,.login-close").on("click",function(){$(".login-section").toggleClass("open"),$(".login-section").on("touchmove",handler,!1)}),$("#login").on("click",function(e){e.preventDefault(),$("header button").trigger("click"),$(".btn-login").trigger("click")}),setClosePos(),$(window).resize(function(){setClosePos()});var input=$(".text-field input");input.on("keyup",function(){$(this).val().length<=0?$(this).siblings(".input-reset").hide():$(this).siblings(".input-reset").show()}),input.on("focus",function(){setClosePos(),$(this).closest("form").find(".input-reset").hide(),$(this).val().length>0&&$(this).siblings(".input-reset").show()}),$(".input-reset").on("click",function(){$(this).siblings("input").val(""),$(this).hide()}),$(".regist-form .btn-fill").on("click",function(){$(".regist-form").submit()}),$(".login-section .btn-fill").on("click",function(){setPopup(!0,{title:"登录成功",content:"<p>您尚未完成用户信息填写，为了您的帐号安全，<br>建议您先至会员中心填写完整。</p>",btnText:"<a href ='member.html'>立刻前往</a>"}),$("form").submit()}),$(".forgetpw-form .btn-fill").on("click",function(){setPopup(!0,{title:"提取密码成功",content:"<p>密码提取成功，请回登录页面进行登录</p>",btnText:"<a href ='index.html#'>立刻前往</a>"}),$(".forgetpw-form").submit()}),$(".forgetpw-form").validate({submitHandler:function(){console.log("submit click")},errorElement:"span",rules:{account:"required",email:"required",verification:"required"},messages:{account:{required:" (必需字段)",minlength:" (不能少于 3 个字母)"},email:{required:" (必需字段)"},verification:{required:" (必需字段)"}}}),$(".regist-form").validate({submitHandler:function(){console.log("submit click")},errorElement:"span",rules:{account:"required",password:"required",pwdconfirm:"required",phone:"required"},messages:{account:{required:" (必需字段)",minlength:" (不能少于 3 个字母)"},password:{required:" (必需字段)",minlength:" (字母不能少于 5 个且不能大于 12 个)",maxlength:" (字母不能少于 5 个且不能大于 12 个)"}}}),$(".login-form").validate({submitHandler:function(){console.log("submit click")},errorElement:"p",errorLabelContainer:".errors",rules:{account:"required",password:"required"},messages:{account:{required:" (必需字段)",minlength:" (不能少于 3 个字母)"},password:{required:" (必需字段)",minlength:" (字母不能少于 5 个且不能大于 12 个)",maxlength:" (字母不能少于 5 个且不能大于 12 个)"}}})});